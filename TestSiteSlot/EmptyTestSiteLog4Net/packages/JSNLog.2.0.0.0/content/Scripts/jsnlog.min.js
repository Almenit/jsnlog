function JL(n){if(!n)return JL.__;var t="";return("."+n).split(".").reduce(function(n,i){var r=n["__"+i];return t?t+="."+i:t=i,r===undefined&&(JL.Logger.prototype=n,r=new JL.Logger(t),n["__"+i]=r),r},JL.__)}function createAjaxAppender(n){return new AjaxAppender(n)}function getTraceLevel(){return 1e3}function getDebugLevel(){return 2e3}function getInfoLevel(){return 3e3}function getWarnLevel(){return 4e3}function getErrorLevel(){return 5e3}function getFatalLevel(){return 6e3}var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},JL;(function(n){function t(n,t,i){if(t[n]!==undefined){if(t[n]===null){delete i[n];return}i[n]=t[n]}}function u(t){return!(n.options.enabled==null)&&!n.options.enabled?!1:t.userAgentRegex&&!new RegExp(t.userAgentRegex).test(navigator.userAgent)?!1:t.ipRegex&&n.options.clientIP&&!new RegExp(t.ipRegex).test(n.options.clientIP)?!1:!0}var f=function(){function n(n,t,i,r){this.l=n,this.m=t,this.n=i,this.t=r}return n}(),i,r,e,o;n.LogItem=f,i=function(){function i(t,i){this.appenderName=t,this.sendLogItems=i,this.level=n.getTraceLevel(),this.sendWithBufferLevel=1e6,this.storeInBufferLevel=n.getTraceLevel(),this.bufferSize=0,this.batchSize=1,this.buffer=[],this.batchBuffer=[]}return i.prototype.setOptions=function(n){return t("level",n,this),t("ipRegex",n,this),t("userAgentRegex",n,this),t("sendWithBufferLevel",n,this),t("storeInBufferLevel",n,this),t("bufferSize",n,this),t("batchSize",n,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this},i.prototype.log=function(n,t,i){var r;if(u(this)&&!(n<this.storeInBufferLevel)){if(r=new f(n,t,i,(new Date).getTime()),n<this.level){this.bufferSize>0&&(this.buffer.push(r),this.buffer.length>this.bufferSize&&this.buffer.shift());return}if(n<this.sendWithBufferLevel?this.batchBuffer.push(r):(this.batchBuffer.push(r),this.buffer.length&&(this.batchBuffer.push(this.buffer),this.buffer.length=0)),this.batchBuffer.length>=this.batchSize){this.sendBatch();return}}},i.prototype.sendBatch=function(){this.batchBuffer.length!=0&&(this.sendLogItems(this.batchBuffer),this.batchBuffer.length=0)},i}(),n.Appender=i,r=function(i){function r(n){i.call(this,n,r.prototype.sendLogItemsAjax),this.url="jsnlog.logger"}return __extends(r,i),r.prototype.setOptions=function(n){return t("url",n,this),i.prototype.setOptions.call(this,n),this},r.prototype.sendLogItemsAjax=function(t){try{var r=JSON.stringify({r:n.options.requestId,lg:t}),i=new XMLHttpRequest;i.open("POST",this.url),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Content-Length",r.length.toString()),i.send(r)}catch(u){}},r}(i),n.AjaxAppender=r,e=function(){function n(n){this.loggerName=n}return n.prototype.setOptions=function(n){return t("level",n,this),t("userAgentRegex",n,this),t("ipRegex",n,this),t("appenders",n,this),this},n.prototype.trace=function(n){return this.log(getTraceLevel(),n)},n.prototype.debug=function(n){return this.log(getDebugLevel(),n)},n.prototype.info=function(n){return this.log(getInfoLevel(),n)},n.prototype.warn=function(n){return this.log(getWarnLevel(),n)},n.prototype.error=function(n){return this.log(getErrorLevel(),n)},n.prototype.fatal=function(n){return this.log(getFatalLevel(),n)},n.prototype.log=function(n,t){var i=0;if(this.appenders){if(n>=this.level&&u(this))for(i=this.appenders.length-1;i>=0;)this.appenders[i].log(n,t,this.loggerName),i--;return this}},n}(),n.Logger=e,n.options,o=new r(""),n.__=new n.Logger("")})n:JL.getDebugLevel(),appenders;return setOptions(options),copyProperty("enabled",options,this),copyProperty("clientIP",options,this),copyProperty("requestId",options,this),this;
//@ sourceMappingURL=jsnlog.min.js.map